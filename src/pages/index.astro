---
import Base from '../layouts/Base.astro';
---

<Base 
  title="Calculateur Salaire Net Qu√©bec 2025 | Simulation Compl√®te et Personnalis√©e"
  description="Le calculateur de salaire le plus complet du Qu√©bec. Calcul en temps r√©el, conseils personnalis√©s, comparaisons sociales et options avanc√©es. D√©couvrez votre vrai net !"
>

<header class="bg-gradient-to-br from-emerald-50 via-white to-blue-50 border-b border-gray-100 shadow-sm sticky top-0 z-50 backdrop-blur-sm">
  <div class="max-w-6xl mx-auto px-4 py-4">
    <div class="flex justify-between items-center">
      <div class="flex items-center space-x-3">
        <div class="w-10 h-10 bg-gradient-to-br from-emerald-500 to-blue-500 rounded-lg flex items-center justify-center">
          <span class="text-white font-bold text-xl">üí∞</span>
        </div>
        <h1 class="text-xl md:text-2xl font-bold bg-gradient-to-r from-emerald-600 to-blue-600 bg-clip-text text-transparent">
          SalaireNet.ca
        </h1>
      </div>
      
      <!-- Province Toggle -->
      <div class="flex items-center space-x-2 bg-white rounded-full p-1 shadow-sm border border-gray-200">
        <button id="toggle-qc" class="province-toggle active px-3 md:px-4 py-2 rounded-full text-xs md:text-sm font-medium transition-all duration-200">
          üçÅ Qu√©bec
        </button>
        <button id="toggle-on" class="province-toggle px-3 md:px-4 py-2 rounded-full text-xs md:text-sm font-medium transition-all duration-200">
          üè¢ Ontario  
        </button>
      </div>
    </div>
  </div>
</header>

<main class="min-h-screen bg-gradient-to-br from-emerald-50 via-white to-blue-50">
  
  <!-- Hero Section -->
  <section class="max-w-7xl mx-auto px-4 py-6 md:py-8">
    
    <div class="text-center mb-6 md:mb-8">
      <h2 class="text-3xl md:text-5xl font-bold text-gray-900 mb-4">
        Calculateur Salaire Net
        <span class="block text-emerald-600" id="province-title">Qu√©bec 2025</span>
      </h2>
      <p class="text-lg md:text-xl text-gray-600 max-w-3xl mx-auto" id="hero-subtitle">
        Le calculateur le plus complet du Qu√©bec avec conseils personnalis√©s
      </p>
    </div>

    <!-- Quick Presets -->
    <div class="flex flex-wrap justify-center gap-2 md:gap-3 mb-6 md:mb-8">
      <button class="preset-btn" data-salary="45000" data-type="salarie">
        üë®‚Äçüíª Dev Junior <span class="block text-xs opacity-75">45k$</span>
      </button>
      <button class="preset-btn" data-salary="75000" data-type="salarie">
        üë®‚Äçüíº Dev Senior <span class="block text-xs opacity-75">75k$</span>
      </button>
      <button class="preset-btn" data-salary="95000" data-type="salarie">
        üöÄ Lead Tech <span class="block text-xs opacity-75">95k$</span>
      </button>
      <button class="preset-btn" data-salary="60000" data-type="freelance">
        üíº Freelance <span class="block text-xs opacity-75">60k$</span>
      </button>
    </div>

    <div class="grid lg:grid-cols-3 gap-6 md:gap-8">
      
      <!-- Main Calculator -->
      <div class="lg:col-span-2">
        <div class="bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden">
          
          <!-- Calculator Header -->
          <div class="bg-gradient-to-r from-emerald-500 to-blue-500 p-4 md:p-6 text-white">
            <h3 class="text-xl md:text-2xl font-bold mb-2">‚ö° Calcul en temps r√©el</h3>
            <p class="text-emerald-100">Saisissez votre salaire pour un calcul instantan√©</p>
          </div>

          <div class="p-4 md:p-6">
            
            <!-- Main Inputs -->
            <div class="grid md:grid-cols-2 gap-4 md:gap-6 mb-6">
              
              <!-- Salary Input -->
              <div class="space-y-3">
                <label class="block text-gray-700 font-semibold">üí∞ Salaire annuel brut</label>
                <div class="relative">
                  <input 
                    type="number" 
                    id="salary-input" 
                    class="w-full p-3 md:p-4 text-lg md:text-xl font-bold border-2 border-gray-200 rounded-xl focus:border-emerald-500 focus:ring-0 transition-colors"
                    placeholder="65000"
                    min="20000"
                    max="500000"
                  />
                  <span class="absolute right-3 md:right-4 top-1/2 transform -translate-y-1/2 text-gray-400 font-medium">CAD $</span>
                </div>
                
                <!-- Visual Slider -->
                <div class="mt-3">
                  <input 
                    type="range" 
                    id="salary-slider" 
                    min="20000" 
                    max="200000" 
                    step="1000"
                    class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider"
                  />
                  <div class="flex justify-between text-xs text-gray-500 mt-1">
                    <span>20k$</span>
                    <span>200k$</span>
                  </div>
                </div>
              </div>

              <!-- Status & Hours -->
              <div class="space-y-3">
                <label class="block text-gray-700 font-semibold">üë§ Votre statut</label>
                <div class="grid grid-cols-2 gap-2 p-1 bg-gray-100 rounded-xl">
                  <button id="status-employee" class="status-btn active py-2 md:py-3 px-3 md:px-4 rounded-lg text-sm font-medium transition-all duration-200">
                    üíº Salari√©
                  </button>
                  <button id="status-freelance" class="status-btn py-2 md:py-3 px-3 md:px-4 rounded-lg text-sm font-medium transition-all duration-200">
                    üöÄ Freelance
                  </button>
                </div>
                
                <div>
                  <label class="block text-gray-600 text-sm font-medium mb-2">‚è∞ Heures/semaine</label>
                  <input 
                    type="number" 
                    id="hours-input" 
                    value="35" 
                    min="20" 
                    max="60"
                    class="w-full p-3 border border-gray-200 rounded-lg focus:border-emerald-500 focus:ring-0"
                  />
                </div>
              </div>
            </div>

            <!-- Results Section -->
            <div id="results-container" class="hidden space-y-6">
              
              <!-- Main Net Result -->
              <div class="bg-gradient-to-r from-emerald-50 to-blue-50 rounded-2xl p-4 md:p-6 border border-emerald-200">
                <div class="text-center">
                  <p class="text-gray-600 mb-2">Votre salaire net annuel</p>
                  <div class="text-3xl md:text-4xl font-bold text-emerald-600 mb-1" id="net-annual">-</div>
                  <p class="text-gray-500">soit <span id="net-monthly" class="font-semibold text-gray-700">-</span> par mois</p>
                </div>
              </div>

              <!-- Accounting Style Breakdown -->
              <div class="bg-gray-50 rounded-2xl p-4 md:p-6 border border-gray-200">
                <h4 class="font-bold text-gray-800 text-lg mb-4">üìä D√©composition comptable</h4>
                
                <div class="space-y-2 font-mono text-sm md:text-base">
<div class="flex justify-between items-center py-2 border-b border-gray-200">
                   <span class="text-gray-700">üí∞ Salaire brut annuel :</span>
                   <span class="font-bold text-gray-900" id="breakdown-gross">-</span>
                 </div>
                 <div class="flex justify-between items-center py-1">
                   <span class="text-red-600">‚ûñ Imp√¥t f√©d√©ral :</span>
                   <span class="font-semibold text-red-600" id="breakdown-federal">-</span>
                 </div>
                 <div class="flex justify-between items-center py-1">
                   <span class="text-blue-600" id="breakdown-provincial-label">‚ûñ Imp√¥t provincial (QC) :</span>
                   <span class="font-semibold text-blue-600" id="breakdown-provincial">-</span>
                 </div>
                 <div class="flex justify-between items-center py-1">
                   <span class="text-purple-600">‚ûñ RRQ :</span>
                   <span class="font-semibold text-purple-600" id="breakdown-rrq">-</span>
                 </div>
                 <div class="flex justify-between items-center py-1">
                   <span class="text-orange-600">‚ûñ RQAP :</span>
                   <span class="font-semibold text-orange-600" id="breakdown-rqap">-</span>
                 </div>
                 <div class="flex justify-between items-center py-1" id="breakdown-ae-row">
                   <span class="text-gray-600">‚ûñ Assurance-emploi :</span>
                   <span class="font-semibold text-gray-600" id="breakdown-ae">-</span>
                 </div>
                 
                 <!-- Advanced deductions (hidden by default) -->
                 <div id="advanced-breakdown" class="hidden">
                   <div class="border-t border-gray-300 my-2 pt-2">
                     <div class="text-xs text-gray-500 mb-2">D√©ductions suppl√©mentaires :</div>
                     <div id="advanced-deductions-list"></div>
                   </div>
                 </div>
                 
                 <div class="flex justify-between items-center py-3 border-t-2 border-gray-400 font-bold text-lg">
                   <span class="text-emerald-700">‚úÖ SALAIRE NET ANNUEL :</span>
                   <span class="text-emerald-600" id="breakdown-net">-</span>
                 </div>
               </div>
             </div>

             <!-- Time Breakdown -->
             <div class="bg-white rounded-2xl p-4 md:p-6 border border-gray-200">
               <h4 class="font-bold text-gray-800 text-lg mb-4">üóìÔ∏è R√©partition temporelle</h4>
               
               <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-sm">
                 <div class="text-center p-3 bg-emerald-50 rounded-lg">
                   <div class="text-xs text-emerald-600 mb-1">Mensuel</div>
                   <div class="font-bold text-emerald-700" id="time-monthly">-</div>
                 </div>
                 <div class="text-center p-3 bg-blue-50 rounded-lg">
                   <div class="text-xs text-blue-600 mb-1">Bi-mensuel</div>
                   <div class="font-bold text-blue-700" id="time-bimonthly">-</div>
                 </div>
                 <div class="text-center p-3 bg-purple-50 rounded-lg">
                   <div class="text-xs text-purple-600 mb-1">2 semaines</div>
                   <div class="font-bold text-purple-700" id="time-biweekly">-</div>
                 </div>
                 <div class="text-center p-3 bg-amber-50 rounded-lg">
                   <div class="text-xs text-amber-600 mb-1">Semaine</div>
                   <div class="font-bold text-amber-700" id="time-weekly">-</div>
                 </div>
                 <div class="text-center p-3 bg-orange-50 rounded-lg">
                   <div class="text-xs text-orange-600 mb-1">Jour</div>
                   <div class="font-bold text-orange-700" id="time-daily">-</div>
                 </div>
                 <div class="text-center p-3 bg-rose-50 rounded-lg">
                   <div class="text-xs text-rose-600 mb-1">Heure</div>
                   <div class="font-bold text-rose-700" id="time-hourly">-</div>
                 </div>
               </div>
             </div>

             <!-- Visual Progress Bar -->
             <div class="bg-white rounded-2xl p-4 md:p-6 border border-gray-200">
               <h4 class="font-bold text-gray-800 text-lg mb-4">üìà R√©partition visuelle</h4>
               <div class="bg-gray-100 rounded-xl overflow-hidden mb-2">
                 <div class="flex h-8 md:h-12">
                   <div id="bar-net" class="bg-emerald-500 flex items-center justify-center text-white text-xs md:text-sm font-medium transition-all duration-500">
                     Net
                   </div>
                   <div id="bar-federal" class="bg-red-400 flex items-center justify-center text-white text-xs transition-all duration-500">
                     F√©d√©ral
                   </div>
                   <div id="bar-provincial" class="bg-blue-400 flex items-center justify-center text-white text-xs transition-all duration-500">
                     Provincial
                   </div>
                   <div id="bar-rrq" class="bg-purple-400 flex items-center justify-center text-white text-xs transition-all duration-500">
                     RRQ
                   </div>
                   <div id="bar-other" class="bg-gray-400 flex items-center justify-center text-white text-xs transition-all duration-500">
                     Autres
                   </div>
                 </div>
               </div>
               <div class="text-center text-sm text-gray-600">
                 Taux effectif : <span id="effective-rate" class="font-semibold">-</span>
               </div>
             </div>

             <!-- Advanced Options Toggle -->
             <div class="bg-gradient-to-r from-amber-50 to-orange-50 rounded-2xl p-4 md:p-6 border border-amber-200">
               <button id="toggle-advanced" class="w-full flex items-center justify-between text-left">
                 <div>
                   <h4 class="font-bold text-amber-800 text-lg">‚öôÔ∏è Options avanc√©es</h4>
                   <p class="text-amber-700 text-sm">Ajoutez vos d√©ductions sp√©cifiques pour un calcul ultra-pr√©cis</p>
                 </div>
                 <svg id="advanced-chevron" class="w-6 h-6 text-amber-600 transform transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                   <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                 </svg>
               </button>
               
               <!-- Advanced Deductions Panel -->
               <div id="advanced-panel" class="hidden mt-4 space-y-4">
                 <div class="grid md:grid-cols-2 gap-4" id="advanced-deductions">
                   <!-- Dynamic advanced deductions will be inserted here -->
                 </div>
                 
                 <div class="pt-4 border-t border-amber-200">
                   <div class="flex justify-between items-center">
                     <span class="font-semibold text-amber-800">D√©ductions suppl√©mentaires mensuelles :</span>
                     <span class="font-bold text-amber-600" id="total-advanced-monthly">0 $</span>
                   </div>
                   <div class="flex justify-between items-center mt-1">
                     <span class="font-semibold text-amber-800">Nouveau salaire net final :</span>
                     <span class="font-bold text-emerald-600" id="final-net-result">-</span>
                   </div>
                 </div>
               </div>
             </div>

             <!-- Share Button -->
             <div class="text-center">
               <button id="share-result" class="bg-gradient-to-r from-emerald-500 to-blue-500 hover:from-emerald-600 hover:to-blue-600 text-white font-semibold px-6 py-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105">
                 üì§ Partager ce r√©sultat
               </button>
               <div id="share-confirmation" class="hidden mt-2 text-green-600 text-sm font-medium">
                 ‚úÖ Lien copi√© dans le presse-papier !
               </div>
             </div>
           </div>
         </div>
       </div>
     </div>

     <!-- Right Sidebar -->
     <div class="space-y-4 md:space-y-6">
       
       <!-- Social Comparison -->
       <div class="bg-white rounded-2xl shadow-lg border border-gray-100 p-4 md:p-6">
         <h3 class="font-bold text-gray-800 mb-4 flex items-center">
           <span class="mr-2">üéØ</span> Votre position sociale
         </h3>
         <div id="social-comparison" class="space-y-3 text-sm">
           <p class="text-gray-600">Saisissez votre salaire pour voir votre position</p>
         </div>
       </div>

       <!-- Financial Recommendations -->
       <div class="bg-gradient-to-br from-emerald-50 to-blue-50 rounded-2xl shadow-lg border border-emerald-200 p-4 md:p-6">
         <h3 class="font-bold text-emerald-800 mb-4 flex items-center">
           <span class="mr-2">üí°</span> Conseils personnalis√©s
         </h3>
         <div id="financial-tips" class="space-y-3 text-sm">
           <p class="text-emerald-700">Des conseils adapt√©s √† votre situation appara√Ætront ici</p>
         </div>
       </div>

       <!-- Housing Budget -->
       <div class="bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl shadow-lg border border-blue-200 p-4 md:p-6">
         <h3 class="font-bold text-blue-800 mb-4 flex items-center">
           <span class="mr-2">üè†</span> Budget logement
         </h3>
         <div id="housing-recommendations" class="space-y-3 text-sm">
           <p class="text-blue-700">Recommandations apr√®s calcul de votre salaire</p>
         </div>
       </div>
     </div>
   </div>
 </section>

 <!-- Province Comparison Section -->
 <section id="province-comparison" class="max-w-7xl mx-auto px-4 py-6 md:py-8 hidden">
   <div class="bg-white rounded-2xl shadow-xl border border-gray-100 p-6 md:p-8">
     <h3 class="text-2xl font-bold text-gray-800 mb-6 text-center">üó∫Ô∏è Comparaison Qu√©bec vs Ontario</h3>
     <div class="grid md:grid-cols-2 gap-6 md:gap-8" id="comparison-grid">
       <!-- Dynamic comparison content -->
     </div>
   </div>
 </section>

 <!-- Dynamic FAQ Section -->
 <section class="max-w-7xl mx-auto px-4 py-6 md:py-8">
   <div id="dynamic-faq-section" class="hidden">
     <div class="bg-white rounded-2xl shadow-xl border border-gray-100 p-6 md:p-8">
       <h3 class="text-2xl md:text-3xl font-bold text-gray-800 mb-2 text-center">‚ùì Questions personnalis√©es</h3>
       <p class="text-gray-600 text-center mb-6 md:mb-8">R√©ponses adapt√©es √† votre situation financi√®re</p>
       
       <div class="grid md:grid-cols-2 gap-4 md:gap-6" id="dynamic-faq">
         <!-- Dynamic FAQ items will be inserted here -->
       </div>
     </div>
   </div>
 </section>
</main>

<!-- Enhanced CSS -->
<style>
 /* Slider customization */
 .slider::-webkit-slider-thumb {
   appearance: none;
   width: 24px;
   height: 24px;
   border-radius: 50%;
   background: linear-gradient(135deg, #10b981, #3b82f6);
   cursor: pointer;
   border: 3px solid white;
   box-shadow: 0 2px 6px rgba(0,0,0,0.2);
 }

 .slider::-moz-range-thumb {
   width: 24px;
   height: 24px;
   border-radius: 50%;
   background: linear-gradient(135deg, #10b981, #3b82f6);
   cursor: pointer;
   border: 3px solid white;
   box-shadow: 0 2px 6px rgba(0,0,0,0.2);
 }

 /* Toggle styles */
 .province-toggle.active {
   background: linear-gradient(135deg, #10b981, #3b82f6);
   color: white;
   box-shadow: 0 2px 8px rgba(16, 185, 129, 0.3);
 }

 .province-toggle:not(.active) {
   color: #6b7280;
 }

 .status-btn.active {
   background: linear-gradient(135deg, #10b981, #3b82f6);
   color: white;
   box-shadow: 0 2px 8px rgba(16, 185, 129, 0.3);
 }

 .status-btn:not(.active) {
   color: #6b7280;
   background: transparent;
 }

 /* Preset buttons */
 .preset-btn {
   @apply bg-white hover:bg-emerald-50 border border-emerald-200 hover:border-emerald-300 rounded-xl px-3 md:px-4 py-2 md:py-3 text-xs md:text-sm font-medium text-emerald-700 transition-all duration-200 hover:shadow-md;
 }

 .preset-btn:hover {
   transform: translateY(-1px);
 }

 /* Advanced panel animation */
 #advanced-panel {
   max-height: 0;
   overflow: hidden;
   transition: max-height 0.3s ease-out;
 }

 #advanced-panel:not(.hidden) {
   max-height: 1000px;
 }

 /* FAQ item styles */
 .faq-item {
   @apply bg-gray-50 rounded-xl p-4 md:p-6 border border-gray-200 hover:shadow-md transition-all duration-300;
 }

 .faq-question {
   @apply font-semibold text-gray-800 mb-2 md:mb-3 text-sm md:text-base;
 }

 .faq-answer {
   @apply text-gray-700 text-sm leading-relaxed;
 }

 /* Responsive adjustments */
 @media (max-width: 768px) {
   .grid {
     gap: 1rem;
   }
   
   .text-3xl {
     font-size: 1.875rem;
   }
   
   .text-5xl {
     font-size: 2.25rem;
   }
 }

 /* Animation classes */
 .animate-slide-in {
   animation: slideInUp 0.3s ease-out;
 }

 @keyframes slideInUp {
   from {
     opacity: 0;
     transform: translateY(20px);
   }
   to {
     opacity: 1;
     transform: translateY(0);
   }
 }
</style>

<!-- Main Enhanced Calculator Script -->
<script type="module" src="/enhanced-calculator-main.js"></script>

</Base>